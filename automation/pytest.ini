# =============================================================================
# PYTEST CONFIGURATION
# =============================================================================
# File: pytest.ini
# Konfigurasi untuk menjalankan pytest dengan parallel execution
# =============================================================================

[pytest]
# Test discovery
testpaths = .
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers
markers =
    parallel: marks tests as parallelizable
    create: marks tests for create functionality
    update: marks tests for update functionality
    delete: marks tests for delete functionality
    search: marks tests for search functionality
    profile: marks tests for profile functionality
    slow: marks tests as slow running

# Default command line options
addopts = 
    -v
    --tb=short
    --strict-markers
    -p no:warnings

# Timeout per test (dalam detik)
timeout = 120

# Parallel execution workers (auto = jumlah CPU)
# Gunakan: pytest -n auto
# Atau spesifik: pytest -n 4

# HTML Report
# Gunakan: pytest --html=report.html --self-contained-html

# JUnit XML Report (untuk CI/CD)
# Gunakan: pytest --junitxml=test-results.xml

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Rerun failed tests
# Gunakan: pytest --reruns 2 --reruns-delay 1
